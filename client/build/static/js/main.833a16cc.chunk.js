(this.webpackJsonpgokform=this.webpackJsonpgokform||[]).push([[0],{109:function(a,e){},158:function(a,e,t){a.exports=t.p+"static/media/LabourDept.d3011f6f.jpg"},187:function(a,e,t){a.exports=t(613)},192:function(a,e,t){},199:function(a,e,t){},611:function(a,e,t){},613:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),l=t(17),i=t.n(l),o=(t(192),t(39)),u=t(83),c=t.n(u),s=t(24),m=t(692),d=(t(199),t(615)),h=t(676),p=t(673),g=t(677),v=t(657),E=t(661),f=t(683),b=t(664),S=t(5),y=t(10),N=t(58),k=t(59),O=t(63),j=t(62),C=t(13),w=t(675),B=t(169),A=t(694),D=t(682),M=t(690),R=t(674),K=t(66),I=t(688),_=t(678),P=t(61),T=t.n(P),L=t(663),F=t(679),x=t(681),W=t(680),G=t(158),U=t.n(G),H=t(693),J=t(658),q=t(696),z=t(662),V=t(687),Y=function(a){return null===a||""===a.trim()},$=function(a){var e={"Andaman Nicobar":["Nicobar","North Middle Andaman","South Andaman"],AndhraPradesh:["Anantapur","Chittoor","East Godavari","Guntur","Kadapa","Krishna","Kurnool","Nellore","Prakasam","Srikakulam","Visakhapatnam","Vizianagaram","West Godavari"],"Arunachal Pradesh":[["Anjaw","Changlang","Dibang Valley","East Kameng","East Siang","Kamle","Kra Daadi","Kurung Kumey","Lepa Rada ","Lohit","Longding","Lower Dibang Valley","Lower Siang","Lower Subansiri","Namsai","Pakke Kessang ","Papum Pare","Shi Yomi ","Siang","Tawang","Tirap","Upper Siang","Upper Subansiri","West Kameng","West Siang"]],Assam:["Baksa","Barpeta","Biswanath","Bongaigaon","Cachar","Charaideo","Chirang","Darrang","Dhemaji","Dhubri","Dibrugarh","Dima Hasao","Goalpara","Golaghat","Hailakandi","Hojai","Jorhat","Kamrup","Kamrup Metropolitan","Karbi Anglong","Karimganj","Kokrajhar","Lakhimpur","Majuli","Morigaon","Nagaon","Nalbari","Sivasagar","Sonitpur","South Salmara-Mankachar","Tinsukia","Udalguri","West Karbi Anglong"],Bihar:["Araria","Arwal","Aurangabad","Banka","Begusarai","Bhagalpur","Bhojpur","Buxar","Darbhanga","East Champaran","Gaya","Gopalganj","Jamui","Jehanabad","Kaimur","Katihar","Khagaria","Kishanganj","Lakhisarai","Madhepura","Madhubani","Munger","Muzaffarpur","Nalanda","Nawada","Patna","Purnia","Rohtas","Saharsa","Samastipur","Saran","Sheikhpura","Sheohar","Sitamarhi","Siwan","Supaul","Vaishali","West Champaran"],Chhattisgarh:["Balod","Baloda Bazar","Balrampur Ramanujganj","Bastar","Bemetara","Bijapur","Bilaspur","Dantewada","Dhamtari","Durg","Gariaband","Gaurela Pendra Marwahi","Janjgir Champa","Jashpur","Kabirdham","Kanker","Kondagaon","Korba","Koriya","Mahasamund","Mungeli","Narayanpur","Raigarh","Raipur","Rajnandgaon","Sukma","Surajpur","Surguja"],Goa:["North Goa","South Goa"],Gujarat:["Ahmedabad","Amreli","Anand","Aravalli","Banaskantha","Bharuch","Bhavnagar","Botad","Chhota Udaipur","Dahod","Dang","Devbhoomi Dwarka","Gandhinagar","Gir Somnath","Jamnagar","Junagadh","Kheda","Kutch","Mahisagar","Mehsana","Morbi","Narmada","Navsari","Panchmahal","Patan","Porbandar","Rajkot","Sabarkantha","Surat","Surendranagar","Tapi","Vadodara","Valsad"],Haryana:["Ambala","Bhiwani","Charkhi Dadri","Faridabad","Fatehabad","Gurugram / Gurgoan ","Hisar","Jhajjar","Jind","Kaithal","Karnal","Kurukshetra","Mahendragarh","Mewat","Palwal","Panchkula","Panipat","Rewari","Rohtak","Sirsa","Sonipat","Yamunanagar"],"Himachal Pradesh":["Bilaspur","Chamba","Hamirpur","Kangra","Kinnaur","Kullu","Lahaul Spiti","Mandi","Shimla","Sirmaur","Solan","Una"],Jharkhand:["Bokaro","Chatra","Deoghar","Dhanbad","Dumka","East Singhbhum","Garhwa","Giridih","Godda","Gumla","Hazaribagh","Jamtara","Khunti","Koderma","Latehar","Lohardaga","Pakur","Palamu","Ramgarh","Ranchi","Sahebganj","Seraikela Kharsawan","Simdega","West Singhbhum"],Karnataka:["Bagalkot","Bangalore Rural","Bangalore Urban","Belgaum","Bellary","Bidar","Chamarajanagar","Chikkaballapur","Chikkamagaluru","Chitradurga","Dakshina Kannada","Davanagere","Dharwad","Gadag","Kalburgi / Gulbarga ","Hassan","Haveri","Kodagu","Kolar","Koppal","Mandya","Mysore","Raichur","Ramanagara","Shimoga","Tumkur","Udupi","Uttara Kannada","Vijayapura / Bijapur ","Yadgir"],Kerala:["Alappuzha","Ernakulam","Idukki","Kannur","Kasaragod","Kollam","Kottayam","Kozhikode","Malappuram","Palakkad","Pathanamthitta","Thiruvananthapuram","Thrissur","Wayanad"],"Madhya Pradesh":["Agar Malwa","Alirajpur","Anuppur","Ashoknagar","Balaghat","Barwani","Betul","Bhind","Bhopal","Burhanpur","Chhatarpur","Chhindwara","Damoh","Datia","Dewas","Dhar","Dindori","Guna","Gwalior","Harda","Hoshangabad","Indore","Jabalpur","Jhabua","Katni","Khandwa","Khargone","Mandla","Mandsaur","Morena","Narsinghpur","Neemuch","Niwari ","Panna","Raisen","Rajgarh","Ratlam","Rewa","Sagar","Satna","Sehore","Seoni","Shahdol","Shajapur","Sheopur","Shivpuri","Sidhi","Singrauli","Tikamgarh","Ujjain","Umaria","Vidisha"],Maharastra:["Ahmednagar","Akola","Amravati","Aurangabad","Beed","Bhandara","Buldhana","Chandrapur","Dhule","Gadchiroli","Gondia","Hingoli","Jalgaon","Jalna","Kolhapur","Latur","Mumbai City","Mumbai Suburban","Nagpur","Nanded","Nandurbar","Nashik","Osmanabad","Palghar","Parbhani","Pune","Raigad","Ratnagiri","Sangli","Satara","Sindhudurg","Solapur","Thane","Wardha","Washim","Yavatmal"],Manipur:["Bishnupur","Chandel","Churachandpur","Imphal East","Imphal West","Jiribam","Kakching","Kamjong","Kangpokpi","Noney","Pherzawl","Senapati","Tamenglong","Tengnoupal","Thoubal","Ukhrul"],Meghalaya:["East Garo Hills","East Jaintia Hills","East Khasi Hills","North Garo Hills","Ri Bhoi","South Garo Hills","South West Garo Hills","South West Khasi Hills","West Garo Hills","West Jaintia Hills","West Khasi Hills"],Mizoram:["Aizawl","Champhai","Kolasib","Lawngtlai","Lunglei","Mamit","Saiha","Serchhip"],Nagaland:["Mon","Dimapur","Kiphire","Kohima","Longleng","Mokokchung","Noklak","Peren","Phek","Tuensang","Wokha","Zunheboto"],Odisha:["Angul","Balangir","Balasore","Bargarh","Bhadrak","Boudh","Cuttack","Debagarh","Dhenkanal","Gajapati","Ganjam","Jagatsinghpur","Jajpur","Jharsuguda","Kalahandi","Kandhamal","Kendrapara","Kendujhar","Khordha","Koraput","Malkangiri","Mayurbhanj","Nabarangpur","Nayagarh","Nuapada","Puri","Rayagada","Sambalpur","Subarnapur","Sundergarh"],Punjab:["Amritsar","Barnala","Bathinda","Faridkot","Fatehgarh Sahib","Fazilka","Firozpur","Gurdaspur","Hoshiarpur","Jalandhar","Kapurthala","Ludhiana","Mansa","Moga","Mohali","Muktsar","Pathankot","Patiala","Rupnagar","Sangrur","Shaheed Bhagat Singh Nagar","Tarn Taran"],Rajasthan:["Ajmer","Alwar","Banswara","Baran","Barmer","Bharatpur","Bhilwara","Bikaner","Bundi","Chittorgarh","Churu","Dausa","Dholpur","Dungarpur","Sri Ganganagar","Hanumangarh","Jaipur","Jaisalmer","Jalore","Jhalawar","Jhunjhunu","Jodhpur","Karauli","Kota","Nagaur","Pali","Pratapgarh","Rajsamand","Sawai Madhopur","Sikar","Sirohi","Tonk","Udaipur"],Sikkim:["East Sikkim","North Sikkim","South Sikkim","West Sikkim"],"Tamil Nadu":["Ariyalur","Chengalpattu ","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi ","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi ","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupattur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Viluppuram","Virudhunagar"],Telangana:["Adilabad","Bhadradri Kothagudem","Hyderabad","Jagtial","Jangaon","Jayashankar Bhupalpally","Jogulamba Gadwal","Kamareddy","Karimnagar","Khammam","Komaram Bheem","Mahabubabad","Mahbubnagar","Mancherial","Medak","Medchal","Mulugu ","Nagarkurnool","Nalgonda","Narayanpet ","Nirmal","Nizamabad","Peddapalli","Rajanna Sircilla","Ranga Reddy","Sangareddy","Siddipet","Suryapet","Vikarabad","Wanaparthy","Warangal Rural","Warangal Urban","Yadadri Bhuvanagiri"],Tripura:["Dhalai","Gomati","Khowai","North Tripura","Sepahijala","South Tripura","Unakoti","West Tripura"],"Uttar Pradesh":["Agra","Aligarh","Prayagraj / Allahabad ","Ambedkar Nagar","Amethi ","Amroha ","Auraiya","Azamgarh","Baghpat","Bahraich","Ballia","Balrampur","Banda","Barabanki","Bareilly","Basti","Bhadohi","Bijnor","Budaun","Bulandshahr","Chandauli","Chitrakoot","Deoria","Etah","Etawah","Ayodhya / Faizabad ","Farrukhabad","Fatehpur","Firozabad","Gautam Buddha Nagar","Ghaziabad","Ghazipur","Gonda","Gorakhpur","Hamirpur","Hapur ","Hardoi","Hathras ","Jalaun","Jaunpur","Jhansi","Kannauj","Kanpur Dehat ","Kanpur Nagar","Kasganj ","Kaushambi","Kheri","Kushinagar","Lalitpur","Lucknow","Maharajganj","Mahoba","Mainpuri","Mathura","Mau","Meerut","Mirzapur","Moradabad","Muzaffarnagar","Pilibhit","Pratapgarh","Raebareli","Rampur","Saharanpur","Sambhal ","Sant Kabir Nagar","Shahjahanpur","Shamli ","Shravasti","Siddharthnagar","Sitapur","Sonbhadra","Sultanpur","Unnao","Varanasi / Benaras"],Uttarakhand:["Almora","Bageshwar","Chamoli","Champawat","Dehradun","Haridwar","Nainital","Pauri","Pithoragarh","Rudraprayag","Tehri","Udham Singh Nagar","Uttarkashi"],"West Bengal":["Alipurduar","Bankura","Birbhum","Cooch Behar","Dakshin Dinajpur","Darjeeling","Hooghly","Howrah","Jalpaiguri","Jhargram","Kalimpong","Kolkata","Malda","Murshidabad","Nadia","North 24 Parganas","Paschim Bardhaman","Paschim Medinipur","Purba Bardhaman","Purba Medinipur","Purulia","South 24 Parganas","Uttar Dinajpur"],Chandigarh:["Chandigarh"],"Dadra Nagar Haveli":["Dadra Nagar Haveli"],"Daman Diu":["Daman","Diu"],Delhi:["Central Delhi","East Delhi","New Delhi","North Delhi","North East Delhi","North West Delhi","Shahdara","South Delhi","South East Delhi","South West Delhi","West Delhi"],"Jammu and Kashmir":["Anantnag","Bandipora","Baramulla","Budgam","Doda","Ganderbal","Jammu","Kathua","Kishtwar","Kulgam","Kupwara","Poonch","Pulwama","Rajouri","Ramban","Reasi","Samba","Shopian","Srinagar","Udhampur"],Lakshadweep:["Lakshadweep"],Ladakh:["Kargil","Leh"],Puducherry:["Karaikal","Mahe","Puducherry","Yanam"]};return e[a]?e[a].sort():[]},Q=t(689);function X(a){var e=a.data;return console.log(e.facilities.value),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"h6",gutterBottom:!0},"Category"),r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"type"},"Type"),r.a.createElement(V.a,{labelId:"type",id:"type",value:e.type.value,onChange:function(e){return a.handleInputChange("type",e.target.value)}},r.a.createElement(z.a,{value:0},"RELIEF CAMPS/SHELTER (Dist wise)"),r.a.createElement(z.a,{value:1},"EMPLOYERS WHOSE LABOUR IS IN-SITU"),r.a.createElement(z.a,{value:2},"LOCALITIES WHERE MIGRANT WORKERS ARE CLUSTERED")))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"state"},"State"),r.a.createElement(V.a,{labelId:"state",id:"state",value:e.state.value,onChange:function(e){return a.handleInputChange("state",e.target.value)}},["Andaman Nicobar","AndhraPradesh","Arunachal Pradesh","Assam","Bihar","Chandigarh","Chhattisgarh","Dadra Nagar Haveli","Daman Diu","Delhi","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Ladakh","Lakshadweep","Madhya Pradesh","Maharastra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Puducherry","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"].map((function(a,e){return r.a.createElement(z.a,{value:a,key:a+e},a)}))))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"district"},"District"),r.a.createElement(V.a,{error:Y(e.district.value)&&e.district.focused,labelId:"district",id:"district",value:e.district.value,onChange:function(e){return a.handleInputChange("district",e.target.value)}},$(e.state.value).map((function(a,e){return r.a.createElement(z.a,{value:a,key:a+e},a)}))))),0===e.type.value&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"campName",name:"campName",label:"Relief Camp/Shelter",fullWidth:!0,onChange:function(e){return a.handleInputChange("campName",e.target.value)},value:e.campName.value,onFocus:function(){return a.setFocus("campName")},error:e.campName.focused&&Y(e.campName.value)})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"runBy"},"Run by"),r.a.createElement(V.a,{labelId:"Run By",id:"runBy",value:e.runBy.value,onChange:function(e){return a.handleInputChange("runBy",e.target.value)}},r.a.createElement(z.a,{value:"Govt"},"Govt"),r.a.createElement(z.a,{value:"NGO"},"NGO"),r.a.createElement(z.a,{value:"Corporate"},"Corporate"))))),1===e.type.value&&r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"employerName",name:"employerName",label:"Name of the Employer/Firm",multiline:!0,fullWidth:!0,onChange:function(e){return a.handleInputChange("employerName",e.target.value)},value:e.employerName.value,onFocus:function(){return a.setFocus("employerName")},error:e.employerName.focused&&Y(e.employerName.value)})),1===e.type.value&&r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"runBy"},"sector"),r.a.createElement(V.a,{labelId:"sector",id:"sector",value:e.sector.value,onChange:function(e){return a.handleInputChange("sector",e.target.value)}},r.a.createElement(z.a,{value:"Building and Construction"},"Building and Construction"),r.a.createElement(z.a,{value:"Hotels, Food Service and catering"},"Hotels, Food Service and catering"),r.a.createElement(z.a,{value:"Mining and Quarrying"},"Mining and Quarrying"),r.a.createElement(z.a,{value:"Transportation and Storage"},"Transportation and Storage"),r.a.createElement(z.a,{value:"IT and Communication"},"IT and Communication"),r.a.createElement(z.a,{value:"Wholesale and Retail"},"Wholesale and Retail"),r.a.createElement(z.a,{value:"Manufacturing"},"Manufacturing"),r.a.createElement(z.a,{value:"Agriculture and Allied Activities"},"Agriculture and Allied Activities"),r.a.createElement(z.a,{value:"Water Supply, Sewerage and Waste Management"},"Water Supply, Sewerage and Waste Management"),r.a.createElement(z.a,{value:"E-Commerce"},"E-Commerce"),r.a.createElement(z.a,{value:"House Hold And Domestic"},"House Hold And Domestic"),r.a.createElement(z.a,{value:"Others (Specify)"},"Others (Specify)")))),1===e.type.value&&"Others (Specify)"===e.sector.value&&r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"otherSector",name:"otherSector",label:"other Sector",multiline:!0,fullWidth:!0,onChange:function(e){return a.handleInputChange("otherSector",e.target.value)},value:e.otherSector.value,onFocus:function(){return a.setFocus("otherSector")},error:e.otherSector.focused&&Y(e.otherSector.value)})),(0===e.type.value||1===e.type.value)&&r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"facilities"},"facilities"),r.a.createElement(V.a,{labelId:"facilities",id:"facilities",value:e.facilities.value,renderValue:function(a){return a.join(", ")},multiple:!0,onChange:function(e){console.log(e.target.value),a.handleInputChange("facilities",e.target.value)},error:0===e.facilities.value.length},r.a.createElement(z.a,{value:"Cooked food"},r.a.createElement(Q.a,{checked:e.facilities.value.indexOf("Cooked food")>-1}),r.a.createElement(b.a,{primary:"Cooked food"})),r.a.createElement(z.a,{value:"Dry Ration"},r.a.createElement(Q.a,{checked:e.facilities.value.indexOf("Dry Ration")>-1}),r.a.createElement(b.a,{primary:"Dry Ration"})),r.a.createElement(z.a,{value:"Financial Assistance"},r.a.createElement(Q.a,{checked:e.facilities.value.indexOf("Financial Assistance")>-1}),r.a.createElement(b.a,{primary:"Financial Assistance"})),r.a.createElement(z.a,{value:"Medical Assistance"},r.a.createElement(Q.a,{checked:e.facilities.value.indexOf("Medical Assistance")>-1}),r.a.createElement(b.a,{primary:"Medical Assistance"})),r.a.createElement(z.a,{value:"Others"},r.a.createElement(Q.a,{checked:e.facilities.value.indexOf("Others")>-1}),r.a.createElement(b.a,{primary:"Others"})))))),2===e.type.value&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"locality",name:"locality",label:"Locality",fullWidth:!0,onChange:function(e){return a.handleInputChange("locality",e.target.value)},value:e.locality.value,onFocus:function(){return a.setFocus("locality")},error:e.locality.focused&&Y(e.locality.value)})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"address",name:"address",label:"Address",fullWidth:!0,onChange:function(e){return a.handleInputChange("address",e.target.value)},value:e.address.value,onFocus:function(){return a.setFocus("address")},error:e.address.focused&&Y(e.address.value)})))))}function Z(a){var e=a.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"h6",gutterBottom:!0},"Information"),r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{autoFocus:!0,required:!0,id:"name",name:"name",label:"Name",fullWidth:!0,onChange:function(e){return a.handleInputChange("name",e.target.value)},value:e.name.value,onFocus:function(){return a.setFocus("name")},error:e.name.focused&&Y(e.name.value)})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"age",name:"age",label:"Age",fullWidth:!0,onChange:function(e){return a.handleInputChange("age",e.target.value)},value:e.age.value,onFocus:function(){return a.setFocus("age")},error:e.age.focused&&(Y(e.age.value)||isNaN(e.age.value))})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"gender"},"gender"),r.a.createElement(V.a,{labelId:"gender",id:"gender",value:e.gender.value,onChange:function(e){return a.handleInputChange("gender",e.target.value)}},r.a.createElement(z.a,{value:"M"},"Male"),r.a.createElement(z.a,{value:"F"},"Female"),r.a.createElement(z.a,{value:"O"},"Other")))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"mobile",name:"mobile",label:"mobile",fullWidth:!0,onChange:function(e){return a.handleInputChange("mobile",e.target.value)},value:e.mobile.value,onFocus:function(){return a.setFocus("mobile")},error:e.mobile.focused&&(Y(e.mobile.value)||!e.mobile.value.match("^[0-9]{10}$"))})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"runBy"},"Occupation"),r.a.createElement(V.a,{labelId:"occupation",id:"occupation",value:e.occupation.value,onChange:function(e){a.handleInputChange("occupation",e.target.value)}},r.a.createElement(z.a,{value:"Agriculture"},"Agriculture"),r.a.createElement(z.a,{value:"Domestic Work"},"Domestic Work"),r.a.createElement(z.a,{value:"Building and other construction work"},"Building and other construction work"),r.a.createElement(z.a,{value:"Electronic, Electrical Goods Repairs"},"Electronic, Electrical Goods Repairs"),r.a.createElement(z.a,{value:"Shop and Establishment Service"},"Shop and Establishment Service"),r.a.createElement(z.a,{value:"Automobile Work"},"Automobile Work"),r.a.createElement(z.a,{value:"Transport Service,Driving,Cleaning etc"},"Transport Service,Driving,Cleaning etc"),r.a.createElement(z.a,{value:"Security Service"},"Security Service"),r.a.createElement(z.a,{value:"Brick Kiln work"},"Brick Kiln work"),r.a.createElement(z.a,{value:"Hotel and restaurent service"},"Hotel and restaurent service"),r.a.createElement(z.a,{value:"Rickshaw pulling"},"Rickshaw pulling"),r.a.createElement(z.a,{value:"Food Processing"},"Food Processing"),r.a.createElement(z.a,{value:"Beauty Salon and hairdressing"},"Beauty Salon and hairdressing"),r.a.createElement(z.a,{value:"Macine Operator,Factory Worker"},"Macine Operator,Factory Worker"),r.a.createElement(z.a,{value:"Others (Specify)"},"Others (Specify)")))),"Others (Specify)"===e.occupation.value&&r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"otherOccupation",name:"otherOccupation",label:"Other Occupation",multiline:!0,fullWidth:!0,onChange:function(e){return a.handleInputChange("otherOccupation",e.target.value)},value:e.otherOccupation.value,onFocus:function(){return a.setFocus("otherOccupation")},error:e.otherOccupation.focused&&Y(e.otherOccupation.value)})),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(H.a,{required:!0,id:"last",name:"lastAddress",label:"Last Address",fullWidth:!0,onChange:function(e){return a.handleInputChange("lastAddress",e.target.value)},value:e.lastAddress.value,onFocus:function(){return a.setFocus("lastAddress")},error:e.lastAddress.focused&&Y(e.lastAddress.value)})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"nativeState"},"Native State"),r.a.createElement(V.a,{labelId:"nativeState",id:"nativeState",value:e.nativeState.value,onChange:function(e){return a.handleInputChange("nativeState",e.target.value)}},["Andaman Nicobar","AndhraPradesh","Arunachal Pradesh","Assam","Bihar","Chandigarh","Chhattisgarh","Dadra Nagar Haveli","Daman Diu","Delhi","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Ladakh","Lakshadweep","Madhya Pradesh","Maharastra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Puducherry","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"].map((function(a,e){return r.a.createElement(z.a,{value:a,key:a+e},a)}))))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"nativeDistrict"},"Native District"),r.a.createElement(V.a,{error:Y(e.nativeDistrict.value)&&e.nativeDistrict.focused,labelId:"nativeDistrict",id:"nativeDistrict",value:e.nativeDistrict.value,onChange:function(e){return a.handleInputChange("nativeDistrict",e.target.value)}},$(e.nativeState.value).map((function(a,e){return r.a.createElement(z.a,{value:a,key:a+e},a)}))))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"Bank A/c"},"Bank A/C"),r.a.createElement(V.a,{labelId:"haveBank",id:"haveBank",value:e.haveBank.value,onChange:function(e){return a.handleInputChange("haveBank",e.target.value)}},r.a.createElement(z.a,{value:"Y"},"Yes"),r.a.createElement(z.a,{value:"N"},"No")))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"Jandhan A/C"},"Jandhan A/C"),r.a.createElement(V.a,{labelId:"haveJandhan",id:"haveJandhan",value:e.haveJandhan.value,onChange:function(e){return a.handleInputChange("haveJandhan",e.target.value)}},r.a.createElement(z.a,{value:"Y"},"Yes"),r.a.createElement(z.a,{value:"N"},"No")))),"Y"===e.haveBank.value&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"accNo",name:"accNo",label:"Bank/Ac",fullWidth:!0,onChange:function(e){return a.handleInputChange("accNo",e.target.value)},value:e.accNo.value,onFocus:function(){return a.setFocus("accNo")},error:e.accNo.focused&&Y(e.accNo.value)})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{required:!0,id:"ifsc",name:"ifsc",label:"IFSC Code",fullWidth:!0,onChange:function(e){return a.handleInputChange("ifsc",e.target.value)},value:e.ifsc.value,onFocus:function(){return a.setFocus("ifsc")},error:e.ifsc.focused&&Y(e.ifsc.value)}))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{style:{minWidth:"100%"}},r.a.createElement(q.a,{id:"Ujjwala"},"Ujjwala"),r.a.createElement(V.a,{labelId:"ujjwala",id:"ujjwala",value:e.ujjwala.value,onChange:function(e){return a.handleInputChange("ujjwala",e.target.value)}},r.a.createElement(z.a,{value:"Y"},"Yes"),r.a.createElement(z.a,{value:"N"},"No")))),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{id:"aadhaar",name:"aadhaar",label:"Aadhaar No",fullWidth:!0,onChange:function(e){return a.handleInputChange("aadhaar",e.target.value)},value:e.aadhaar.value}))))}var aa=t(52),ea=t.n(aa),ta=function(a){return{type:"SET_ERROR",payload:a}},na=function(a){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t){t({type:"REMOVE_ERROR"}),t({type:"UI_START_LOADING"}),ea.a.post("auth/generateOtp",{mobile:a}).then((function(n){t({type:"UI_STOP_LOADING"}),n.data.success?e||be.push({pathname:"/validate",state:{mobile:a}}):t(ta(n.data.msg))})).catch((function(a){t(ta("Something went wrong")),t({type:"UI_STOP_LOADING"})}))}},ra=function(a){return{type:"SET_USER",payload:a}},la=function(){return function(a){localStorage.removeItem("jwtToken"),a({type:"LOGOUT"})}},ia=t(666),oa=t(19),ua=t.n(oa),ca=t(27),sa=t(12),ma=t(665),da=t(668),ha=t(672),pa=t(671),ga=t(667),va=t(669),Ea=t(670),fa=t(616),ba=t(691),Sa=Object(ma.a)({table:{minWidth:650}});function ya(a){var e=a.handleInputChange,t=a.data,l=Sa(),i=Object(n.useState)(!1),o=Object(sa.a)(i,2),u=o[0],c=o[1],s=Object(n.useState)([]),m=Object(sa.a)(s,2),d=m[0],h=m[1],p=Object(n.useState)(0),g=Object(sa.a)(p,2),v=g[0],E=g[1],f=Object(n.useState)(0),b=Object(sa.a)(f,2),S=b[0],y=b[1],N=Object(n.useState)(!1),k=Object(sa.a)(N,2),O=(k[0],k[1]),j=function(){var a=Object(ca.a)(ua.a.mark((function a(){var e,t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/data/getgroups",{method:"get"});case 2:return e=a.sent,a.next=5,e.json();case 5:(t=a.sent).success?(h(t.data),y(t.data.length),c(!1)):O(!0);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();Object(n.useEffect)((function(){c(!0),j()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(fa.a,{className:l.backdrop,open:u},r.a.createElement(ia.a,{color:"inherit"})),r.a.createElement(ga.a,{component:B.a},r.a.createElement(da.a,{className:l.table,"aria-label":"simple table"},r.a.createElement(va.a,null,r.a.createElement(Ea.a,null,r.a.createElement(pa.a,null,"Leader Name"),r.a.createElement(pa.a,{align:"right"},"Leader Mobile"))),r.a.createElement(ha.a,null,d.slice(30*v,30*v+30).map((function(a){return r.a.createElement(Ea.a,{selected:a.id===t.groupId,hover:!0,onClick:function(){return e("groupId",a.id)},key:a.name},r.a.createElement(pa.a,{component:"th",scope:"row"},a.leader_name||a.name_of_shelter))}))),r.a.createElement(ba.a,{rowsPerPageOptions:[30],rowsPerPage:30,page:v,count:S,onChangePage:function(a,e){E(e)}}))))}function Na(){return r.a.createElement(K.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(R.a,{color:"inherit",href:"#"},"Labour Institute (Govt. of Karnataka)")," ",(new Date).getFullYear(),".")}var ka=function(a){return{appBar:{position:"relative"},layout:Object(C.a)({width:"auto",marginLeft:a.spacing(2),marginRight:a.spacing(2)},a.breakpoints.up(600+2*a.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(C.a)({marginTop:a.spacing(3),marginBottom:a.spacing(3),padding:a.spacing(2)},a.breakpoints.up(600+2*a.spacing(3)),{marginTop:a.spacing(6),marginBottom:a.spacing(6),padding:a.spacing(3)}),stepper:{padding:a.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:a.spacing(3),marginLeft:a.spacing(1)}}},Oa=["Select Group","Select Category","Add Information"],ja=["RELIEF CAMPS/SHELTER (Dist wise)","EMPLOYERS WHOSE LABOUR IS IN-SITU","LOCALITIES WHERE MIGRANT WORKERS ARE CLUSTERED"];var Ca=function(a){Object(O.a)(t,a);var e=Object(j.a)(t);function t(){var a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))).state={error:!1,groupId:0,activeStep:0,type:{value:0},state:{value:"Andaman Nicobar",focused:!1},district:{value:"",focused:!1},campName:{value:"",focused:!1},runBy:{value:"Govt",focused:!1},facilities:{value:["Cooked food"],focused:!1},otherFacilities:{value:"",focused:!1},employerName:{value:"",focused:!1},sector:{value:"Building and Construction",focused:!1},otherSector:{value:"",focused:!1},locality:{value:"",focused:!1},address:{value:"",focused:!1},name:{value:"",focused:!1},age:{value:"",focused:!1},gender:{value:"M",focused:!1},occupation:{value:"Agriculture",focused:!1},otherOccupation:{value:"",focused:!1},mobile:{value:"",focused:!1},lastAddress:{value:"",focused:!1},nativeDistrict:{value:"",focused:!1},nativeState:{value:"Andaman Nicobar",focused:!1},haveBank:{value:"N",focused:!1},haveJandhan:{value:"N",focused:!1},accNo:{value:"",focused:!1},ifsc:{value:"",focused:!1},ujjwala:{value:"N",focused:!1},aadhaar:{value:"",focused:!1},success:!1},a.removeSuccess=function(){a.setState({success:!1,error:!1})},a.handleSubmit=function(){console.log("submit");var e=a.state,t=e.groupId,n=e.type,r=e.state,l=e.district,i=e.campName,o=e.runBy,u=e.facilities,c=e.employerName,s=e.sector,m=e.otherSector,d=e.locality,h=e.address,p=e.name,g=e.age,v=e.gender,E=e.occupation,f=e.otherOccupation,b=e.mobile,S=e.lastAddress,N=e.nativeDistrict,k=e.nativeState,O=e.haveBank,j=e.haveJandhan,C=e.accNo,w=e.ifsc,B=e.ujjwala,A=e.aadhaar;if(Y(p.value)||Y(g.value)||isNaN(g.value)||Y(b.value)||!b.value.match("^[0-9]{10}$")||Y(S.value)||Y(N.value)||Y(k.value)||"Y"===O&&(Y(C.value)||Y(w.value))||"Others (Specify)"===E&&Y(f.value))a.setState({name:Object(y.a)({},a.state.name,{focused:!0}),age:Object(y.a)({},a.state.age,{focused:!0}),mobile:Object(y.a)({},a.state.mobile,{focused:!0}),lastAddress:Object(y.a)({},a.state.lastAddress,{focused:!0}),nativeDistrict:Object(y.a)({},a.state.nativeDistrict,{focused:!0}),nativeState:Object(y.a)({},a.state.nativeState,{focused:!0}),accNo:Object(y.a)({},a.state.accNo,{focused:!0}),ifsc:Object(y.a)({},a.state.ifsc,{focused:!0})});else{var D={};D.groupId=t,D.type=ja[n.value],D.facilities=0===n.value||1===n.value?u.value.join(", "):"",D.state=r.value,D.district=l.value,D.name=p.value,D.age=g.value,D.gender=v.value,D.mobile=b.value,D.occupation="Others (Specify)"===E.value?f.value:E.value,D.lastAddress=S.value,D.nativeState=k.value,D.nativeDistrict=N.value,D.haveBank=O.value,"Y"===O.value&&(D.accNo=C.value,D.ifsc=w.value),D.haveJandhan=j.value,D.ujjwala=B.value,D.aadhaar=A.value,0===n.value?(D.campName=i.value,D.runBy=o.value):1===n.value?(D.employerName=c.value,D.sector="Others (Specify)"===s.value?m.value:s.value):(D.locality=d.value,D.address=h.value),a.props.uiStartLoading(),a.props.removeError(),ea.a.post("/data/addMigrant",D).then((function(e){a.props.uiStopLoading(),e.data.success?a.setState((function(a){return{activeStep:a.activeStep+1,success:!0}})):a.setState((function(a){return{success:!1,error:!0}})),console.log(e.data)})).catch((function(e){a.props.uiStopLoading(),a.props.setError("Something went wrong"),console.log(e)}))}},a.submitSame=function(){a.setState({activeStep:1,name:{value:"",focused:!1},age:{value:"",focused:!1},gender:{value:"M",focused:!1},occupation:{value:"Agriculture",focused:!1},otherOccupation:{value:"",focused:!1},mobile:{value:"",focused:!1},lastAddress:{value:"",focused:!1},nativeDistrict:{value:"",focused:!1},nativeState:{value:"Andaman Nicobar",focused:!1},haveBank:{value:"N",focused:!1},haveJandhan:{value:"N",focused:!1},accNo:{value:"",focused:!1},ifsc:{value:"",focused:!1},ujjwala:{value:"N",focused:!1},aadhaar:{value:"",focused:!1},success:!1})},a.submitNew=function(){a.setState({activeStep:0,name:{value:"",focused:!1},age:{value:"",focused:!1},gender:{value:"M",focused:!1},occupation:{value:"Agriculture",focused:!1},otherOccupation:{value:"",focused:!1},mobile:{value:"",focused:!1},lastAddress:{value:"",focused:!1},nativeDistrict:{value:"",focused:!1},haveBank:{value:"N",focused:!1},haveJandhan:{value:"N",focused:!1},accNo:{value:"",focused:!1},ifsc:{value:"",focused:!1},ujjwala:{value:"N",focused:!1},aadhaar:{value:"",focused:!1},success:!1})},a.handleNext=function(){var e=a.state,t=e.groupId,n=e.type,r=e.state,l=e.district,i=e.campName,o=e.facilities,u=e.employerName,c=e.sector,s=e.locality,m=e.address,d=e.activeStep,h=e.otherSector;if(0!==t||0!==d)if(0===d&&a.setState({activeStep:1}),2!==a.state.activeStep){if(0===n.value){if(Y(r.value)||Y(l.value)||Y(i.value)||0===o.value.length)return void a.setState({state:Object(y.a)({},a.state.state,{focused:!0}),district:Object(y.a)({},a.state.district,{focused:!0}),campName:Object(y.a)({},a.state.campName,{focused:!0}),facilities:Object(y.a)({},a.state.facilities,{focused:!0})})}else if(1===n.value){if(Y(r.value)||Y(l.value)||Y(u.value)||0===o.value.length||"Others (Specify)"===c.value&&Y(h.value))return void a.setState({state:Object(y.a)({},a.state.state,{focused:!0}),district:Object(y.a)({},a.state.district,{focused:!0}),employerName:Object(y.a)({},a.state.employerName,{focused:!0}),facilities:Object(y.a)({},a.state.facilities,{focused:!0}),otherSector:Object(y.a)({},a.state.otherSector,{focused:!0})})}else if(2===n.value&&(Y(r.value)||Y(l.value)||Y(s.value)||Y(m.value)))return void a.setState({state:Object(y.a)({},a.state.state,{focused:!0}),district:Object(y.a)({},a.state.district,{focused:!0}),locality:Object(y.a)({},a.state.locality,{focused:!0}),address:Object(y.a)({},a.state.address,{focused:!0})});a.setState((function(a){return{activeStep:a.activeStep+1}}))}else a.handleSubmit();else a.setState({activeStep:0})},a.handleBack=function(){a.setState((function(a){return 1===a.activeStep?{groupId:0,activeStep:a.activeStep-1}:{activeStep:a.activeStep-1}}))},a.handleInputChange=function(e,t){"groupId"!==e?("state"===e?a.setState({state:{focused:!0,value:t},district:{value:"",focused:!0}}):"nativeState"===e&&a.setState({nativeState:{focused:!0,value:t},nativeDistrict:{value:"",focused:!0}}),a.setState(Object(C.a)({},e,{focused:!0,value:t}))):a.setState({groupId:t})},a.setFocus=function(e){a.setState(Object(C.a)({},e,Object(y.a)({},a.state[e],{focused:!0})))},a}return Object(k.a)(t,[{key:"render",value:function(){var a=this.props,e=a.classes,t=a.ui,n=this.state,l=n.groupId,i=n.activeStep,o=n.state,u=n.district,c=n.type,s=n.campName,m=n.runBy,d=n.facilities,v=n.employerName,E=n.sector,f=n.locality,b=n.address,S=n.name,y=n.age,N=n.gender,k=n.occupation,O=n.mobile,j=n.lastAddress,C=n.nativeDistrict,P=n.nativeState,G=n.haveBank,H=n.haveJandhan,J=n.accNo,q=n.ifsc,z=n.ujjwala,V=n.aadhaar,Y=n.otherSector,$=n.otherOccupation,Q=n.success,aa=n.error,ea=[{groupId:l},{state:o,district:u,type:c,campName:s,runBy:m,facilities:d,employerName:v,sector:E,locality:f,address:b,otherSector:Y},{name:S,age:y,gender:N,occupation:k,mobile:O,lastAddress:j,nativeDistrict:C,nativeState:P,haveBank:G,haveJandhan:H,accNo:J,ifsc:q,ujjwala:z,aadhaar:V,otherOccupation:$}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(h.a,{position:"absolute",color:"inherit",className:e.appBar},r.a.createElement(p.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(R.a,{href:"/"},"Home"),r.a.createElement(g.a,{color:"inherit",onClick:this.props.logoutUser},"Logout"))),r.a.createElement(_.a,{style:{marginBottom:10},in:t.error,className:"alert"},r.a.createElement(I.a,{severity:"error",action:r.a.createElement(L.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.removeError},r.a.createElement(T.a,{fontSize:"inherit"}))},t.errorMessage||"Something Went Wrong")),r.a.createElement(F.a,{open:Q||aa,onClose:this.removeSuccess,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(W.a,{id:"alert-dialog-title"},aa?"Error Submitting data":"Data Submitted Successfully"),r.a.createElement(x.a,null,r.a.createElement(g.a,{onClick:this.removeSuccess,color:"primary"},"Ok"))),r.a.createElement("main",{className:e.layout},r.a.createElement(B.a,{className:e.paper},r.a.createElement("div",{style:{width:"100%",justifyContent:"center",display:"flex",marginBottom:5}},r.a.createElement("img",{src:U.a,style:{maxHeight:60,maxWidth:160},alt:"TeleOPD"})),r.a.createElement(K.a,{component:"h1",variant:"h4",align:"center"},"Migrant Workers Information"),r.a.createElement(A.a,{activeStep:i,className:e.stepper},Oa.map((function(a){return r.a.createElement(D.a,{key:a},r.a.createElement(M.a,null,a))}))),r.a.createElement(r.a.Fragment,null,i===Oa.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"h5",gutterBottom:!0},"Thank you."),r.a.createElement(K.a,{variant:"subtitle1"},"Data Submitted Successfully in ".concat(ja[c.value]," category")),r.a.createElement("div",{className:e.buttons},r.a.createElement(g.a,{onClick:this.submitSame,className:e.button,variant:"contained",color:"primary"},"Submit Again"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.submitNew,className:e.button},"Submit New"))):r.a.createElement(r.a.Fragment,null,2===i&&r.a.createElement(K.a,{variant:"caption",gutterBottom:!0},"category - ".concat(ja[c.value])),function(a,e,t,n){switch(a){case 0:return r.a.createElement(ya,{data:e[0],handleInputChange:t});case 1:return r.a.createElement(X,{data:e[1],handleInputChange:t,setFocus:n});case 2:return r.a.createElement(Z,{data:e[2],handleInputChange:t,setFocus:n});default:throw new Error("Unknown step")}}(i,ea,this.handleInputChange,this.setFocus),r.a.createElement("div",{className:e.buttons},0!==i&&r.a.createElement(g.a,{onClick:this.handleBack,className:e.button},"Back"),t.isLoading?r.a.createElement(ia.a,null):r.a.createElement(g.a,{variant:"contained",color:"primary",disabled:0===l,onClick:this.handleNext,className:e.button},i===Oa.length-1?"Submit":"Next"))))),r.a.createElement(Na,null)))}}]),t}(n.Component),wa=Object(s.b)((function(a){return{ui:a.ui}}),(function(a){return{removeError:function(){return a({type:"REMOVE_ERROR"})},setError:function(e){return a(ta(e))},uiStartLoading:function(){return a({type:"UI_START_LOADING"})},uiStopLoading:function(){return a({type:"UI_STOP_LOADING"})},logoutUser:function(){return a(la())}}}))(Object(S.a)(ka)(Ca)),Ba=t(162),Aa=t.n(Ba),Da=t(163),Ma=t.n(Da);function Ra(a){return r.a.createElement(d.a,Object.assign({button:!0,component:"a"},a))}var Ka=Object(s.b)((function(a){return{ui:a.ui}}),(function(a){return{logoutUser:function(){return a(la())}}}))(Object(S.a)(ka)((function(a){var e=a.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{position:"absolute",color:"inherit",className:e.appBar},r.a.createElement(p.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(g.a,{color:"inherit",onClick:a.logoutUser},"Logout"))),r.a.createElement(v.a,{alignItems:"center"},r.a.createElement(E.a,null,r.a.createElement(Ra,{href:"/groupdata"},r.a.createElement(f.a,null,r.a.createElement(Aa.a,null)),r.a.createElement(b.a,null,"Group Data collection")),r.a.createElement(Ra,{href:"/individualdata"},r.a.createElement(f.a,null,r.a.createElement(Ma.a,null)),r.a.createElement(b.a,null,"Individual Data collection")))))}))),Ia=t(167),_a=t(77),Pa=t.n(_a);Pa.a.config.update({region:"ap-south-1",credentials:new Pa.a.CognitoIdentityCredentials({IdentityPoolId:"ap-south-1:00c50a34-e399-498d-9b41-917d53b72d8f"})});var Ta=new Pa.a.S3({apiVersion:"2006-03-01",params:{Bucket:"resourceform"}});function La(a,e,t){var n=e.name.split(".");n=n[n.length-1];var r=encodeURIComponent(a),l="".concat(r,"/").concat(t,"_").concat(function(a){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=e.length,n="",r=0;r<a;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}(6),".").concat(n);return new Pa.a.S3.ManagedUpload({params:{Bucket:"resourceform",Key:l,Body:e,ACL:"public-read"}}).promise()}function Fa(){var a="paper-"+function(a){var e=a.getMonth()+1,t=a.getDate();return[a.getFullYear(),(e>9?"":"0")+e,(t>9?"":"0")+t].join("")}(new Date),e=encodeURIComponent(a)+"/";return new Promise((function(t,n){Ta.headObject({Key:e},(function(r,l){r||t(a),r&&"NotFound"!==r.code&&(console.log(r),n("There was an error creating your album: "+r.message)),Ta.putObject({Key:e},(function(e,r){e&&n("There was an error creating your album: "+e.message),t(a)}))}))}))}var xa=t(699),Wa=t(700),Ga=t(684),Ua=t(701);var Ha=function(a){var e=Object(n.useState)(13),t=Object(sa.a)(e,2),l=t[0],i=t[1];return r.a.createElement("div",null,r.a.createElement(xa.a,{center:a.currentLocation,zoom:l,className:"Map",onzoomend:function(a){i(a.target._zoom)}},r.a.createElement(Wa.a,{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(Ga.a,{position:a.currentLocation,draggable:!0,onMoveEnd:function(e){var t=e.target._latlng,n=t.lat,r=t.lng;a.updateLocation([n,r])}},r.a.createElement(Ua.a,null,"Drag this to the correct location"))))};var Ja=function(a){var e=Object(n.useRef)(),t=Object(n.useState)({file:null,preview:null}),l=Object(sa.a)(t,2),i=l[0],o=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"file"},r.a.createElement("label",{className:"file-label"},r.a.createElement("input",{className:"file-input",type:"file",name:"image_2",id:"image_2",accept:"image/*",ref:e,onChange:function(){var t=new FileReader,n=e.current.files[0];a.setFile(n),t.onloadend=function(){o({file:n,preview:t.result})},t.readAsDataURL(n)}}),r.a.createElement("span",{className:"file-cta"},r.a.createElement("span",{className:"file-label"},i.preview?"Change photo":"Add Photo\u2026")))),i.preview?r.a.createElement("figure",{className:"image my"},r.a.createElement("img",{src:i.preview,alt:""})):r.a.createElement(r.a.Fragment,null))},qa=function(a){var e=0,t=2,l=3,i=Object(n.useState)({total_children:0,total_women:0,total_men:0,total_person:0}),o=Object(sa.a)(i,2),u=o[0],c=o[1],s=Object(Ia.a)(),m=s.handleSubmit,d=s.register,h=s.errors,p=Object(n.useState)([15,78]),g=Object(sa.a)(p,2),E=g[0],f=g[1],b=Object(n.useState)(!1),S=Object(sa.a)(b,2),N=S[0],k=S[1],O=Object(n.useState)(null),j=Object(sa.a)(O,2),w=j[0],B=j[1],A=Object(n.useState)(!1),D=Object(sa.a)(A,2),M=D[0],R=D[1],K=Object(n.useState)(null),I=Object(sa.a)(K,2),_=I[0],P=I[1],T=Object(n.useState)(null),L=Object(sa.a)(T,2),F=L[0],x=L[1],W=Object(n.useState)(null),G=Object(sa.a)(W,2),U=G[0],H=G[1],J=Object(n.useState)(e),q=Object(sa.a)(J,2),z=(q[0],q[1]),V=Object(n.useState)(e),Y=Object(sa.a)(V,2),$=(Y[0],Y[1]),Q=function(a){var e=a.target,t=e.name,n=e.value;c((function(a){return Object(y.a)({},a,Object(C.a)({},t,parseInt(n,10)))})),c((function(a){return Object(y.a)({},a,{total_person:a.total_men+a.total_women+a.total_children})}))};Object(n.useEffect)((function(){N||navigator.geolocation.getCurrentPosition((function(a){var e=a.coords.latitude,t=a.coords.longitude;f([e,t]),k(!0)}),(function(){B("Cannot get the location from your device.")}))}),[N]);var X=function(){var e=Object(ca.a)(ua.a.mark((function e(n){var r,i,o,u;return ua.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,R(!0),i="",e.prev=3,e.next=6,Fa();case 6:i=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),alert("Cannot Upload Photos!"),e.abrupt("return");case 13:if(!F){e.next=25;break}return e.prev=14,e.next=17,La(i,F,n.leader_mobile);case 17:o=e.sent,z(t),r.image_1=o.Location,e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),z(l);case 25:if(!U){e.next=37;break}return e.prev=26,e.next=29,La(i,U,n.leader_mobile);case 29:u=e.sent,z(t),r.image_2=u.Location,e.next=37;break;case 34:e.prev=34,e.t2=e.catch(26),$(l);case 37:return r.location_gps="http://www.google.com/maps/place/".concat(E[0],",").concat(E[1]),e.prev=38,e.next=41,ea.a.post(a.url,{params:r});case 41:e.sent.data.success?a.submitted(!0):P("Error occured while submitting the form"),e.next=48;break;case 45:e.prev=45,e.t3=e.catch(38),P("Failed to send request!");case 48:case"end":return e.stop()}}),e,null,[[3,9],[14,22],[26,34],[38,45]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"section",onSubmit:m(X)},_?r.a.createElement("div",{className:"notificaiton is-danger"},_):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label",htmlFor:"leader_name"},"Group Leader Name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",id:"leader_name",name:"leader_name",ref:d({required:"Required"})})),h.leader_name&&h.leader_name.message?r.a.createElement("p",{className:"help is-danger"},h.leader_name.message):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label",htmlFor:"leader_mobile"},"Group Leader Mobile Number"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"leader_mobile",id:"leader_mobile",ref:d({required:"Required",pattern:{value:/^\d{10}$/i,message:"Mobile number should contain 10 digits"}})})),h.leader_mobile&&h.leader_mobile.message?r.a.createElement("p",{className:"help is-danger"},h.leader_mobile.message):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"group_state",className:"label"},"Group's Native State"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"group_state",id:"group_state",ref:d},r.a.createElement("option",{value:"Andaman and Nicobar Islands"},"Andaman and Nicobar Islands"),r.a.createElement("option",{value:"Andhra Pradesh"},"Andhra Pradesh"),r.a.createElement("option",{value:"Arunachal Pradesh"},"Arunachal Pradesh"),r.a.createElement("option",{value:"Assam"},"Assam"),r.a.createElement("option",{value:"Bihar"},"Bihar"),r.a.createElement("option",{value:"Chandigarh"},"Chandigarh"),r.a.createElement("option",{value:"Chhattisgarh"},"Chhattisgarh"),r.a.createElement("option",{value:"Dadra and Nagar Haveli and Daman and Diu"},"Dadra and Nagar Haveli and Daman and Diu"),r.a.createElement("option",{value:"Delhi"},"Delhi"),r.a.createElement("option",{value:"Goa"},"Goa"),r.a.createElement("option",{value:"Gujarat"},"Gujarat"),r.a.createElement("option",{value:"Haryana"},"Haryana"),r.a.createElement("option",{value:"Himachal Pradesh"},"Himachal Pradesh"),r.a.createElement("option",{value:"Jammu & Kashmir"},"Jammu & Kashmir"),r.a.createElement("option",{value:"Jharkhand"},"Jharkhand"),r.a.createElement("option",{value:"Karnataka"},"Karnataka"),r.a.createElement("option",{value:"Kerala"},"Kerala"),r.a.createElement("option",{value:"Ladakh"},"Ladakh"),r.a.createElement("option",{value:"Lakshadweep"},"Lakshadweep"),r.a.createElement("option",{value:"Madhya Pradesh"},"Madhya Pradesh"),r.a.createElement("option",{value:"Maharashtra"},"Maharashtra"),r.a.createElement("option",{value:"Manipur"},"Manipur"),r.a.createElement("option",{value:"Meghalaya"},"Meghalaya"),r.a.createElement("option",{value:"Mizoram"},"Mizoram"),r.a.createElement("option",{value:"Nagaland"},"Nagaland"),r.a.createElement("option",{value:"Odisha"},"Odisha"),r.a.createElement("option",{value:"Puducherry"},"Puducherry"),r.a.createElement("option",{value:"Punjab"},"Punjab"),r.a.createElement("option",{value:"Rajasthan"},"Rajasthan"),r.a.createElement("option",{value:"Sikkim"},"Sikkim"),r.a.createElement("option",{value:"Tamil Nadu"},"Tamil Nadu"),r.a.createElement("option",{value:"Telangana"},"Telangana"),r.a.createElement("option",{value:"Tripura"},"Tripura"),r.a.createElement("option",{value:"Uttar Pradesh"},"Uttar Pradesh"),r.a.createElement("option",{value:"Uttarakhand"},"Uttarakhand"),r.a.createElement("option",{value:"West Bengal"},"West Bengal"))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label",htmlFor:"present_address"},"Present Address"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",id:"present_address",name:"present_address",ref:d({required:"Required"})})),h.present_address&&h.present_address.message?r.a.createElement("p",{className:"help is-danger"},h.present_address.message):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"present_district",className:"label"},"Present District"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"present_district",id:"present_district",ref:d},r.a.createElement("option",{value:"Bagalkote"},"Bagalkote"),r.a.createElement("option",{value:"Ballari"},"Ballari"),r.a.createElement("option",{value:"Belagavi"},"Belagavi"),r.a.createElement("option",{value:"Bengaluru Urban"},"Bengaluru Urban"),r.a.createElement("option",{value:"Bengaluru Rural"},"Bengaluru Rural"),r.a.createElement("option",{value:"Bidar"},"Bidar"),r.a.createElement("option",{value:"Chamarajanagara"},"Chamarajanagara"),r.a.createElement("option",{value:"Chikkaballapura"},"Chikkaballapura"),r.a.createElement("option",{value:"Chikkmagaluru"},"Chikkmagaluru"),r.a.createElement("option",{value:"Chitradurga"},"Chitradurga"),r.a.createElement("option",{value:"Dakshina Kannada"},"Dakshina Kannada"),r.a.createElement("option",{value:"Davanagere"},"Davanagere"),r.a.createElement("option",{value:"Dharawada"},"Dharawada"),r.a.createElement("option",{value:"Gadaga"},"Gadaga"),r.a.createElement("option",{value:"Hassan"},"Hassan"),r.a.createElement("option",{value:"Haveri"},"Haveri"),r.a.createElement("option",{value:"Kalaburagi"},"Kalaburagi"),r.a.createElement("option",{value:"Kodagu"},"Kodagu"),r.a.createElement("option",{value:"Kolara"},"Kolara"),r.a.createElement("option",{value:"Koppala"},"Koppala"),r.a.createElement("option",{value:"Mandya"},"Mandya"),r.a.createElement("option",{value:"Mysuru"},"Mysuru"),r.a.createElement("option",{value:"Raichur"},"Raichur"),r.a.createElement("option",{value:"Ramanagara"},"Ramanagara"),r.a.createElement("option",{value:"Shivamogga"},"Shivamogga"),r.a.createElement("option",{value:"Tumakuru"},"Tumakuru"),r.a.createElement("option",{value:"Udupi"},"Udupi"),r.a.createElement("option",{value:"Uttara Kannada"},"Uttara Kannada"),r.a.createElement("option",{value:"Vijayapura"},"Vijayapura"),r.a.createElement("option",{value:"Yadagiri"},"Yadagiri"))))),r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"label",htmlFor:"total_men"},"Total Men"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"number",id:"total_men",name:"total_men",ref:d({required:"Required"}),value:u.total_men,onChange:Q})),h.total_men&&h.total_men.message&&r.a.createElement("p",{className:"help is-danger"},h.total_men.message)),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"label",htmlFor:"total_women"},"Total Women"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"number",id:"total_women",value:u.total_women,name:"total_women",ref:d({required:"Required"}),onChange:Q})),h.total_women&&h.total_women.message&&r.a.createElement("p",{className:"help is-danger"},h.total_women.message)),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"label",htmlFor:"total_children"},"Total Children (under 16)"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"number",id:"total_children",value:u.total_children,name:"total_children",ref:d({required:"Required"}),onChange:Q})),h.total_children&&h.total_children.message&&r.a.createElement("p",{className:"help is-danger"},h.total_children.message)),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"label",htmlFor:"total_person"},"Total Person in Group"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"number",id:"total_person",value:u.total_person,name:"total_person",ref:d({required:"Required"}),disabled:!0})),h.total_person&&h.total_person.message?r.a.createElement("p",{className:"help is-danger"},h.total_person.message):r.a.createElement(r.a.Fragment,null)),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"label",htmlFor:"special_request"},"Special Request other than Food / Grocery"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",id:"special_request",name:"special_request",ref:d({required:"Required"})})),h.special_request&&h.special_request.message?r.a.createElement("p",{className:"help is-danger"},h.special_request.message):r.a.createElement(r.a.Fragment,null)),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"label",htmlFor:"post_lockdown"},"Post Lockdown Will Your Group:"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"post_lockdown",value:"Stay",ref:d}),"Stay At Present Place")),r.a.createElement("div",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"post_lockdown",value:"Leave",ref:d}),"Go to Native"))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label",htmlFor:"present_landmark"},"Present Landmark"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",id:"present_landmark",name:"present_landmark",ref:d({required:"Required"})})),h.present_landmark&&h.present_landmark.message?r.a.createElement("p",{className:"help is-danger"},h.present_landmark.message):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"field"},w?r.a.createElement("div",{className:"notification is-warning"},w):r.a.createElement(r.a.Fragment,null),r.a.createElement("p",{className:"help is-info"},"Drag the ",r.a.createElement("strong",null,"blue marker")," to the correct location if necessary."),r.a.createElement(Ha,{currentLocation:E,updateLocation:f}))),r.a.createElement("h4",{className:"has-text-weight-bold"},"Landmark Photo"),r.a.createElement(Ja,{setFile:x}),r.a.createElement("h4",{className:"has-text-weight-bold"},"Group Leader Photo"),r.a.createElement(Ja,{setFile:H}),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-link"+(M?" is-loading":"")},"Submit"))))};t(610),t(611);var za=function(a){return r.a.createElement("div",null,r.a.createElement("article",{className:"message is-success"},r.a.createElement("div",{className:"message-body"},r.a.createElement("strong",null,"Thank you!")," Your request has been taken. Someone will get in touch with you to co-ordinate the logistics.")))},Va=t(685);var Ya=Object(s.b)((function(a){return{ui:a.ui}}),(function(a){return{logoutUser:function(){return a(la())}}}))(Object(S.a)(ka)((function(a){var e=Object(n.useState)(!1),t=Object(sa.a)(e,2),l=t[0],i=t[1],o=a.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{position:"absolute",color:"inherit",className:o.appBar},r.a.createElement(p.a,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(R.a,{href:"/"},"Home"),r.a.createElement(g.a,{color:"inherit",onClick:a.logoutUser},"Logout"))),r.a.createElement(Va.a,null,r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("img",{src:"LabourDept.jpg",alt:"Labour Department"})),r.a.createElement("h1",{className:"is-size-4 has-text-centered"},"Labours Heatmap Form"),l?r.a.createElement(za,null):r.a.createElement(qa,{url:"/data/groupdata",submitted:i})))}))),$a=t(695),Qa=t(686),Xa=t(97),Za=t.n(Xa);function ae(){return r.a.createElement(K.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(R.a,{color:"inherit",href:"#"},"Labour Institute (Govt. of Karnataka)")," ",(new Date).getFullYear(),".")}var ee=function(a){Object(O.a)(t,a);var e=Object(j.a)(t);function t(){var a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))).state={mobile:{value:null}},a.handleInputChange=function(e,t){a.setState(Object(C.a)({},e,Object(y.a)({},a.state[e],{value:t})))},a.login=function(){var e=a.state.mobile;!Y(e.value)&&e.value.match("^[0-9]{10}$")&&a.props.generateOtp(e.value)},a}return Object(k.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props,"auth"),this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(a){a.auth.isAuthenticated&&(this.props.history.push("/"),this.props.removeError())}},{key:"render",value:function(){var a=this,e=this.state.mobile,t=this.props,n=t.classes,l=t.ui;return r.a.createElement(Va.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement($a.a,{className:n.avatar},r.a.createElement(Za.a,null)),r.a.createElement(K.a,{component:"h1",variant:"h5"},"Login"),l.error&&r.a.createElement(_.a,{in:l.error,className:"alert"},r.a.createElement(I.a,{severity:"error",action:r.a.createElement(L.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.removeError},r.a.createElement(T.a,{fontSize:"inherit"}))},l.errorMessage||"Something Went Wrong")),r.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"mobile",label:"Mobile No",name:"mobile",autoComplete:"mobile",autoFocus:!0,error:Y(e.value)||!e.value.match("^[0-9]{10}$"),helperText:"Required Field",onChange:function(e){return a.handleInputChange("mobile",e.target.value)}}),l.isLoading?r.a.createElement(ia.a,null):r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:this.login},"Login"),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0}))),r.a.createElement(Qa.a,{mt:8},r.a.createElement(ae,null)))}}]),t}(r.a.Component),te=Object(s.b)((function(a){return{ui:a.ui,auth:a.auth}}),(function(a){return{removeError:function(){return a({type:"REMOVE_ERROR"})},generateOtp:function(e){return a(na(e))}}}))(Object(S.a)((function(a){return{paper:{marginTop:a.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:a.spacing(1),backgroundColor:a.palette.secondary.main},form:{width:"100%",marginTop:a.spacing(1)},submit:{margin:a.spacing(3,0,2)},alert:{marginTop:a.spacing(1)}}}))(ee)),ne=t(168),re=Object(s.b)((function(a){return{auth:a.auth}}))((function(a){var e=a.component,t=a.auth,n=Object(ne.a)(a,["component","auth"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(a){return!0===t.isAuthenticated?r.a.createElement(e,a):r.a.createElement(m.a,{to:"/Login"})}}))})),le=t(165),ie=t.n(le);function oe(){return r.a.createElement(K.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(R.a,{color:"inherit",href:"#"},"Labour Institute (Govt. of Karnataka)")," ",(new Date).getFullYear(),".")}var ue=function(a){Object(O.a)(t,a);var e=Object(j.a)(t);function t(){var a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))).state={otp:null,time:60},a.setOtp=function(e){a.setState({otp:e})},a.onSubmit=function(){var e=a.state.otp;!e||e.toString().length<6||a.props.login(a.props.location.state.mobile,e)},a.resendOtp=function(){if(0===a.state.time){var e=a.props.location.state.mobile;a.props.generateOtp(e,!0),a.setState({time:60}),a.interval=setInterval((function(){a.setState((function(a){return{time:a.time-1}}))}),1e3)}},a}return Object(k.a)(t,[{key:"componentDidMount",value:function(){var a=this;this.interval=setInterval((function(){a.setState((function(a){return{time:a.time-1}}))}),1e3),this.props.auth.isAuthenticated?this.props.history.push("/"):this.props.location.state&&this.props.location.state.mobile||this.props.history.push("/login")}},{key:"render",value:function(){var a;0==this.state.time&&clearInterval(this.interval);var e=this.state.otp,t=this.props,n=t.classes,l=t.ui;return r.a.createElement(Va.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:n.paper},r.a.createElement($a.a,{className:n.avatar},r.a.createElement(Za.a,null)),r.a.createElement(K.a,{component:"h1",variant:"h5"},"Enter Otp"),l.error&&r.a.createElement(_.a,{in:l.error,className:"alert"},r.a.createElement(I.a,{severity:"error",action:r.a.createElement(L.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.removeError},r.a.createElement(T.a,{fontSize:"inherit"}))},l.errorMessage||"Something Went Wrong")),r.a.createElement(ie.a,(a={onChange:this.setOtp,numInputs:6,separator:r.a.createElement("span",null,"-"),containerStyle:{marginTop:20},inputStyle:{width:"3rem",height:"3rem",margin:"0 1rem",fontSize:"2rem",borderRadius:4,border:"1px solid rgba(0,0,0,0.3)"},shouldAutoFocus:!0,hasErrored:l.error,value:e},Object(C.a)(a,"hasErrored",!e||e.toString().length<6),Object(C.a)(a,"errorStyle",{border:"1px solid red"}),a)),l.isLoading?r.a.createElement(ia.a,null):r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:this.onSubmit},"Submit Otp"),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(R.a,{href:"/login",variant:"body2"},"Login?"),r.a.createElement(v.a,{item:!0,xs:!0},!l.isLoading&&r.a.createElement(g.a,{style:{marginLeft:0,marginTop:8},onClick:this.resendOtp},"Resend Otp"," ",0!==this.state.time&&"in ".concat(this.state.time)))),r.a.createElement(v.a,{item:!0}))),r.a.createElement(Qa.a,{mt:8},r.a.createElement(oe,null)))}}]),t}(r.a.Component),ce=Object(s.b)((function(a){return{ui:a.ui,auth:a.auth}}),(function(a){return{removeError:function(){return a({type:"REMOVE_ERROR"})},login:function(e,t){return a(function(a,e){return function(t){t({type:"UI_START_LOADING"}),t({type:"REMOVE_ERROR"}),ea.a.post("auth/validate",{mobile:a,otp:e}).then((function(a){if(t({type:"UI_STOP_LOADING"}),a.data.success){var e=a.data.token;localStorage.setItem("jwtToken",e);var n=c()(e);t(ra(n)),be.push("/")}else t(ta(a.data.msg))})).catch((function(a){t(ta("Something went wrong")),t({type:"UI_STOP_LOADING"})}))}}(e,t))},generateOtp:function(e,t){return a(na(e,t))}}}))(Object(S.a)((function(a){return{paper:{marginTop:a.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:a.spacing(1),backgroundColor:a.palette.secondary.main},form:{width:"100%",marginTop:a.spacing(1)},submit:{margin:a.spacing(3,0,2)},alert:{marginTop:a.spacing(1)}}}))(Object(m.d)(ue))),se=t(46),me=t(166),de={isLoading:!1,error:!1,errorMessage:null},he=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UI_START_LOADING":return Object(y.a)({},a,{isLoading:!0});case"UI_STOP_LOADING":return Object(y.a)({},a,{isLoading:!1});case"SET_ERROR":return Object(y.a)({},a,{error:!0,errorMessage:e.payload});case"REMOVE_ERROR":return Object(y.a)({},a,{error:!1,errorMessage:null});default:return a}},pe={isAuthenticated:!1,mobile:null},ge=Object(se.c)({ui:he,auth:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_USER":return Object(y.a)({},a,{isAuthenticated:!0,mobile:e.payload.mobile});case"LOGOUT":return{isAuthenticated:!1,mobile:null};default:return a}}}),ve=[me.a],Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,fe=Object(se.e)(ge,{},Ee(se.a.apply(void 0,ve))),be=Object(o.a)();if(localStorage.jwtToken){var Se=c()(localStorage.jwtToken);fe.dispatch(ra(Se));var ye=Date.now()/1e3;Se.exp<ye&&(fe.dispatch(la()),window.location.href="/login")}var Ne=function(){return r.a.createElement(s.a,{store:fe},r.a.createElement(m.c,{history:be},r.a.createElement(re,{exact:!0,path:"/"},r.a.createElement(Ka,null)),r.a.createElement(re,{exact:!0,path:"/individualdata",component:wa}),r.a.createElement(re,{exact:!0,path:"/groupdata",component:Ya}),r.a.createElement(m.b,{exact:!0,path:"/login",component:te}),r.a.createElement(m.b,{exact:!0,path:"/validate",component:ce})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.833a16cc.chunk.js.map